(function(e){function t(t){for(var r,i,a=t[0],u=t[1],l=t[2],s=0,f=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);b&&b(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==c[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var b=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"19c3":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=(n("5363"),n("98c5"),n("afc9")),o=n("81c6"),i=n("0047"),a=Object(c["a"])({components:o,directives:i,theme:{defaultTheme:"dark"}});function u(e,t,n,c,o,i){var a=Object(r["B"])("play-section"),u=Object(r["B"])("v-col"),l=Object(r["B"])("search-section"),b=Object(r["B"])("v-row"),s=Object(r["B"])("v-container"),f=Object(r["B"])("v-app");return Object(r["w"])(),Object(r["i"])(f,{style:{height:"100vh",overflow:"hidden"}},{default:Object(r["K"])((function(){return[c.store.loaded?(Object(r["w"])(),Object(r["i"])(s,{key:0,style:{height:"100vh"}},{default:Object(r["K"])((function(){return[Object(r["l"])(b,{style:{height:"98vh"}},{default:Object(r["K"])((function(){return[Object(r["l"])(u,{cols:"6",align:"center"},{default:Object(r["K"])((function(){return[Object(r["l"])(a)]})),_:1}),Object(r["l"])(u,{cols:"6",align:"center"},{default:Object(r["K"])((function(){return[Object(r["l"])(l)]})),_:1})]})),_:1})]})),_:1})):Object(r["j"])("",!0)]})),_:1})}var l=n("1da1"),b=(n("96cf"),n("d3b7"),n("b0c0"),Object(r["k"])(" No Active Device Found ")),s=Object(r["k"])(" Add Track To Playlist! "),f=Object(r["k"])(" Playlists: "),j=Object(r["k"])(" My favourite Tracks! "),d=Object(r["k"])(" Tracks: "),O={class:"text-white"};function p(e,t,n,c,o,i){var a=Object(r["B"])("v-card-title"),u=Object(r["B"])("v-card-subtitle"),l=Object(r["B"])("v-img"),p=Object(r["B"])("v-btn"),y=Object(r["B"])("v-card-text"),h=Object(r["B"])("v-sheet"),v=Object(r["B"])("v-card"),g=Object(r["B"])("v-col"),k=Object(r["B"])("v-row"),w=Object(r["B"])("v-divider");return Object(r["w"])(),Object(r["i"])(h,{color:"grey-darken-4",class:"pa-2",height:"100vh",elevation:"4",style:{overflow:"auto","&:hover":{display:"none"}},rounded:""},{default:Object(r["K"])((function(){return[Object(r["l"])(k,{height:"50%"},{default:Object(r["K"])((function(){return[Object(r["l"])(g,{height:"100%"},{default:Object(r["K"])((function(){return[Object(r["l"])(v,{height:"100%",width:"100%"},{default:Object(r["K"])((function(){return[c.store.spotify.playbackState.item?(Object(r["w"])(),Object(r["i"])(l,{key:0,width:"100%",cover:"",height:"100%","aspect-ratio":16/9,src:c.store.spotify.playbackState.item.album.images[0].url,style:{"border-radius":"5px"}},{default:Object(r["K"])((function(){return[Object(r["l"])(h,{style:{"backdrop-filter":"blur(4px) brightness(0.5)"},height:"100%",width:"100%",color:"transparent",rounded:""},{default:Object(r["K"])((function(){return[Object(r["l"])(a,null,{default:Object(r["K"])((function(){return[Object(r["k"])(Object(r["D"])(c.store.spotify.playbackState.item.name),1)]})),_:1}),Object(r["l"])(u,null,{default:Object(r["K"])((function(){return[(Object(r["w"])(!0),Object(r["i"])(r["a"],null,Object(r["A"])(c.store.spotify.playbackState.item.artists,(function(e,t){return Object(r["w"])(),Object(r["i"])("span",{key:e.id},Object(r["D"])(e.name)+Object(r["D"])(c.store.spotify.playbackState.item.artists.length-1>t?",":"")+" Â  ",1)})),128))]})),_:1}),c.store.spotify.playbackState.item?(Object(r["w"])(),Object(r["i"])(l,{key:0,width:"300",height:"300",src:c.store.spotify.playbackState.item.album.images[0].url,"lazy-src":"https://logospng.org/download/spotify/logo-spotify-icon-4096.png"},null,8,["src"])):Object(r["j"])("",!0),Object(r["l"])(y,{style:{gap:"10px"}},{default:Object(r["K"])((function(){return[Object(r["l"])(p,{onClick:c.prev,icon:"mdi-skip-previous-circle",color:"grey-darken-3"},null,8,["onClick"]),Object(r["l"])(p,{onClick:c.toggle,icon:c.store.spotify.playbackState.is_playing?"mdi-pause-circle":"mdi-play-circle",color:"green-darken-3"},null,8,["onClick","icon"]),Object(r["l"])(p,{onClick:c.next,icon:"mdi-skip-next-circle",color:"grey-darken-3"},null,8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["src"])):Object(r["j"])("",!0),c.store.spotify.playbackState.hasOwnProperty("is_playing")?Object(r["j"])("",!0):(Object(r["w"])(),Object(r["i"])(h,{key:1,rounded:"",width:"100%",height:"100%"},{default:Object(r["K"])((function(){return[c.store.spotify.playbackState.hasOwnProperty("is_playing")?Object(r["j"])("",!0):(Object(r["w"])(),Object(r["i"])(l,{key:0,width:"100%",height:"100%","aspect-ratio":16/9,src:"https://logospng.org/download/spotify/logo-spotify-icon-4096.png"},{default:Object(r["K"])((function(){return[Object(r["l"])(h,{color:"red-darken-3",rounded:"",bottom:"",absolute:"",width:"100%"},{default:Object(r["K"])((function(){return[b]})),_:1})]})),_:1}))]})),_:1}))]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(k,{height:"50%"},{default:Object(r["K"])((function(){return[Object(r["l"])(g,{height:"100%"},{default:Object(r["K"])((function(){return[Object(r["l"])(v,{height:"100%",width:"100%",color:"black"},{default:Object(r["K"])((function(){return[Object(r["l"])(a,null,{default:Object(r["K"])((function(){return[s]})),_:1}),Object(r["l"])(u,null,{default:Object(r["K"])((function(){return[f]})),_:1}),Object(r["l"])(y,null,{default:Object(r["K"])((function(){return[(Object(r["w"])(!0),Object(r["i"])(r["a"],null,Object(r["A"])(c.store.spotify.playlists.items,(function(e){return Object(r["w"])(),Object(r["i"])(k,{key:e.id},{default:Object(r["K"])((function(){return["dropmaniamusic"==e.owner.id?(Object(r["w"])(),Object(r["i"])(g,{key:0,cols:"12",align:"center"},{default:Object(r["K"])((function(){return[Object(r["l"])(w,{style:{"margin-bottom":"10px"}}),Object(r["l"])(p,{color:"green-darken-3",onClick:function(t){return c.addToPlaylist(e.id)}},{default:Object(r["K"])((function(){return[Object(r["k"])(Object(r["D"])(e.name),1)]})),_:2},1032,["onClick"])]})),_:2},1024)):Object(r["j"])("",!0)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),Object(r["l"])(g,{height:"100%"},{default:Object(r["K"])((function(){return[Object(r["l"])(v,{height:"100%",width:"100%",color:"black"},{default:Object(r["K"])((function(){return[Object(r["l"])(a,null,{default:Object(r["K"])((function(){return[j]})),_:1}),Object(r["l"])(u,null,{default:Object(r["K"])((function(){return[d]})),_:1}),Object(r["l"])(y,null,{default:Object(r["K"])((function(){return[(Object(r["w"])(!0),Object(r["i"])(r["a"],null,Object(r["A"])(c.store.spotify.recommends.items,(function(e){return Object(r["w"])(),Object(r["i"])(k,{key:e.id},{default:Object(r["K"])((function(){return[Object(r["l"])(g,{cols:"12",align:"left"},{default:Object(r["K"])((function(){return[Object(r["l"])(v,{color:"grey-darken-3",style:{background:"url(".concat(e.album.images[1].url,")"),backgroundSize:"cover",padding:"5px",backgroundPositionY:"center"}},{default:Object(r["K"])((function(){return[Object(r["l"])("div",O,[Object(r["l"])(p,{onClick:function(t){return c.playSong(e.uri)},icon:"mdi-play-circle",color:"green-darken-3"},null,8,["onClick"]),Object(r["k"])(" "+Object(r["D"])(e.name),1)])]})),_:2},1032,["style"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}n("99af");var y=Object(r["y"])({spotify:{},loaded:!1}),h=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,o,i,a,u,l,b,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=serverPath+"spotify","refresh"!=t){e.next=13;break}return e.next=5,fetch("".concat(r,"/getall"));case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,y.spotify=o,e.abrupt("return",o);case 13:if("currentlyCool"!=t){e.next=23;break}return e.next=16,fetch("".concat(r,"/currentlyCool"));case 16:return i=e.sent,e.next=19,i.json();case 19:return a=e.sent,e.abrupt("return",a);case 23:return e.next=25,fetch("".concat(r,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 25:return u=e.sent,e.next=28,fetch("".concat(r,"/getall"));case 28:return l=e.sent,e.next=31,l.json();case 31:return b=e.sent,y.spotify=b,e.abrupt("return",u.json());case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={setup:function(){function e(){h("toggle",{device:window.device_id})}function t(){h("next")}function n(){h("prev")}function r(e){h("addToPlaylist",{pId:e,tURI:y.spotify.playbackState.item.uri})}function c(e){h("playSong",{uri:e,device:window.device_id})}return{toggle:e,store:y,next:t,prev:n,addToPlaylist:r,playSong:c}}};v.render=p;var g=v,k=n("3835"),w=Object(r["l"])("div",{class:"text-h4 mb-4"},"Currently Cool:",-1),m=Object(r["l"])("br",null,null,-1);function _(e,t,n,c,o,i){var a=Object(r["B"])("v-btn"),u=Object(r["B"])("v-sheet"),l=Object(r["B"])("v-card-title"),b=Object(r["B"])("v-card-text"),s=Object(r["B"])("v-card");return Object(r["w"])(),Object(r["i"])(u,{color:"grey-darken-4",class:"pa-2",height:"100vh",elevation:"4",style:{overflow:"auto"},rounded:""},{default:Object(r["K"])((function(){return[w,(Object(r["w"])(!0),Object(r["i"])(r["a"],null,Object(r["A"])(c.cc,(function(e){var t=Object(k["a"])(e,2),n=t[0],o=t[1];return Object(r["w"])(),Object(r["i"])(s,{key:n,color:"grey-darken-3 mb-2"},{default:Object(r["K"])((function(){return[Object(r["l"])(l,null,{default:Object(r["K"])((function(){return[Object(r["l"])(u,{style:{background:"url(".concat(o.track.album.images[1].url,")"),backgroundSize:"cover"},class:"pa-7 ma-3",rounded:""},{default:Object(r["K"])((function(){return[Object(r["l"])(a,{onClick:function(e){return c.playSong(o.track.uri)},icon:"mdi-play-circle",color:"green-darken-3"},null,8,["onClick"])]})),_:2},1032,["style"]),Object(r["k"])(" "+Object(r["D"])(o.track.name),1)]})),_:2},1024),Object(r["l"])(b,{align:"left"},{default:Object(r["K"])((function(){return[Object(r["k"])(" listen time: "+Object(r["D"])(o.listenTime_formatted)+" ",1),m,Object(r["k"])(" last heared: "+Object(r["D"])(o.lastListening_formatted),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})}var K={setup:function(){var e=Object(r["z"])([]);function t(){return n.apply(this,arguments)}function n(){return n=Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h("currentlyCool");case 2:n=t.sent,n.sort((function(e,t){var n=Object(k["a"])(e,2),r=n[1].listenTime,c=Object(k["a"])(t,2),o=c[1].listenTime;return o-r})),e.value=n;case 5:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}function c(e){h("playSong",{uri:e,device:window.device_id})}return Object(r["v"])((function(){t(),setInterval((function(){t()}),3e4)})),{cc:e,playSong:c}}};K.render=_;var x=K,S={components:{PlaySection:g,SearchSection:x},setup:function(){return Object(r["v"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=setInterval((function(){if(window.spotifyLoaded){var e=new window.Spotify.Player({name:"DropMania Web Client",getOAuthToken:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(serverPath+"spotify/access_token");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t(r.at);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()});e.addListener("ready",(function(e){var t=e.device_id;window.device_id=t})),e.connect(),clearInterval(t)}}),100),e.next=3,h("getall");case 3:setInterval(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h("refresh");case 2:case"end":return e.stop()}}),e)}))),5e3),y.loaded=!0;case 5:case"end":return e.stop()}}),e)})))),{store:y}}};n("9c32");S.render=u;var B=S,C=Object(r["h"])(B);C.use(a),C.mount("#app")},"9c32":function(e,t,n){"use strict";n("19c3")}});
//# sourceMappingURL=app.b556381b.js.map